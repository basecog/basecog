<%# locals: (project:) %>

<%= turbo_frame_tag dom_id(project, :edit), target: "_top" do %>
  <%= form_with(model: project, class: "contents") do |form| %>
    <div class="my-5">
      <%= form.label :name, "Project name" %>
      <%=
        form.text_field :name,
                        autofocus: current_page?(new_project_path),
                        placeholder: "e.g. Mobile App v2 or Marketing Website",
                        class: "block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full"
      %>

      <% if project.errors[:name].any? %>
        <div class="mt-3 font-medium text-red-500">
          <%= project.errors.full_messages_for(:name).first %>
        </div>
      <% end %>
    </div>

    <% if false # hiding description field for now %>
      <div class="my-5">
        <%= form.label :description, "Description" %>
        <%= form.text_field :description, class: "block shadow rounded-md border border-slate-200 outline-none px-3 py-2 mt-2 w-full" %>

        <% if project.errors[:description].any? %>
          <div class="mt-3 font-medium text-red-500">
            <%= project.errors.full_messages_for(:description).first %>
          </div>
        <% end %>
      </div>
    <% end %>

    <div class="inline">
      <%= form.submit class: "btn-primary" %>
    </div>
  <% end %>
<% end %>
